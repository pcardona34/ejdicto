var dictee={saisie:"",texte:"",erreurCode:0,correction:"",message:"",titreMessage:""};dictee.init=function(){this.saisie=document.getElementById("ma_saisie").value;this.texte=document.getElementById("texte").textContent;this.erreurCode=0;this.correction="";this.message="";this.titreMessage="";if(this.saisie.length>0)if(this.texte.length>0)return true;else{this.erreurCode=2;console.log(this.erreurCode);return false}else{this.erreurCode=1;return false}};
dictee.corriger=function(){if(this.init()===true){var sortie=diffString(this.saisie,this.texte);this.titreMessage="Bilan";this.message=sortie.bilan;this.afficherMessage()}else{if(this.erreurCode===1){this.message="Erreur "+this.erreurCode;this.message+=": veuillez d'abord saisir le texte ";this.message+="de la dict\u00e9e !";this.titreMessage="Mode d'emploi"}else{this.titreMessage="Erreur dans l'application";this.message="Erreur "+this.erreurCode;this.message+=": erreur interne. Le texte de la ";
this.message+="dict\u00e9e est manquant :("}this.afficherMessage()}};
dictee.terminer=function(){if(this.init()===true){var sortie=diffString(this.saisie,this.texte);this.correction=sortie.corrigee.replace(/\n/g,"<br />");document.getElementById("corrige").innerHTML=this.correction;document.getElementById("zone_correction").style.display="block";document.getElementById("menu").style.display="none";document.getElementById("zone_saisie").style.display="none";return true}else{if(this.erreurCode===1){this.message="Erreur "+this.erreurCode;this.message+=": veuillez d'abord saisir le texte ";
this.message+="de la dict\u00e9e !";this.titreMessage="Mode d'emploi"}else{this.titreMessage="Erreur dans l'application";this.message="Erreur "+this.erreurCode;this.message+=": erreur interne. Le texte de la ";this.message+="dict\u00e9e est manquant :("}this.afficherMessage()}};dictee.masquerCorrection=function(){document.getElementById("zone_correction").style.display="none";document.getElementById("zone_saisie").style.display="block"};
dictee.afficherMessage=function(){document.getElementById("titre_notification").innerHTML=this.titreMessage;document.getElementById("message_notification").innerHTML=this.message;document.getElementById("notification").style.display="block"};dictee.recommencerSaisie=function(){document.getElementById("ma_saisie").value="";sessionStorage.setItem("dictee","")};